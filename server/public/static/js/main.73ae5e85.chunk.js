(this["webpackJsonpreact-kanban"]=this["webpackJsonpreact-kanban"]||[]).push([[0],{11:function(e,t,a){e.exports={RegisterComponent:"RegisterComponent_RegisterComponent__NlhpB",form_ul:"RegisterComponent_form_ul__3Fh93",form_li:"RegisterComponent_form_li__1lWu2",form_li_error:"RegisterComponent_form_li_error__2PC4l",form_input:"RegisterComponent_form_input__13HAa",register_button:"RegisterComponent_register_button__39556",optionsContainer:"RegisterComponent_optionsContainer__3Hir2",options_span:"RegisterComponent_options_span__3ypfn"}},13:function(e,t,a){e.exports={List:"List_List__3YKbb",listOfCards:"List_listOfCards__1pK8Q",listDragHandle:"List_listDragHandle__3hTIg",listHeader:"List_listHeader__20JRz",listHeader_form:"List_listHeader_form__2uhvi",returnButton_span:"List_returnButton_span__HjCay",listName:"List_listName__3yl36",menuButton:"List_menuButton__1X4A9",listMenu:"List_listMenu__12_9q",exitButton:"List_exitButton__2PFIW",li_listMenuOption:"List_li_listMenuOption__3d7bh",saveButton:"List_saveButton__3H-WR",AddCard:"List_AddCard__2vcmU",addCardForm:"List_addCardForm__15zdy",plusButton:"List_plusButton__1g9f1",addCardInput:"List_addCardInput__fljjW"}},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),s=a.n(o),i=(a(92),a(12)),l=a(3),c=a(4),u=a(6),d=a(5),p=a(7),m=(a(93),a(76)),h=a.n(m),b=a(1),f=a(59),_=a.n(f),g=a(2),v=a(25),C=a.n(v),E=a(8),O=a.n(E),N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:"TOGGLE_MODAL",payload:e})}},y=function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/users/".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"GET_USER",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}},B=function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/auth/login",S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"LOGIN_USER",payload:e})})).catch((function(e){return console.log(e),t({type:"LOGIN_ERROR"})})));case 2:case"end":return a.stop()}}))}},j=function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/auth/register",S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"REGISTER_USER",payload:e})})).catch((function(e){return console.log(e),e})));case 2:case"end":return a.stop()}}))}},k=function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/cards/".concat(e.id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_CARD",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}},L=function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/lists/".concat(e.id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_LIST",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}},M=function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/boards/".concat(e.id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_BOARD",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}},w=function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/boards/".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"GET_BOARD_DATA",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}},S=function(e){return{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}},I=function(e){return{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}},P=function(){return{method:"DELETE",headers:{"Content-type":"application/json"}}},x=function(e,t){var a=t();return a.created_by&&a.user_id?a.created_by===a.user_id||e({type:"UNAUTHORIZED_ACTION_ERROR",payload:null}):!(a.created_by||!a.user_id)||void 0},A=a(38),D=a(15),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){if(localStorage.getItem("user"))return a.setState({username:JSON.parse(localStorage.getItem("user"))})},a.handleLoginSubmit=function(e){e.preventDefault();var t=Object(g.a)({},a.state);return a.props.dispatchLoginUser(t),a.setState({username:"",password:""})},a.handleInput=function(e){var t=e.target,n=t.value,r=t.name,o=Object(g.a)({},a.state);o[r]=n,a.setState(o)},a.state={username:"",password:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(A.a,{to:"/boards"}):r.a.createElement("div",{className:C.a.loginComponent},r.a.createElement("h3",null,"Log in to Kanban"),this.props.loginError?r.a.createElement("p",{className:C.a.error},"* Username or password is invalid."):null,r.a.createElement("form",null,r.a.createElement("ul",{className:C.a.form_ul},r.a.createElement("li",{className:C.a.form_li},r.a.createElement("input",{type:"text",name:"username",autoComplete:"username",value:this.state.username,onChange:this.handleInput,placeholder:"Enter username",className:C.a.form_input})),r.a.createElement("li",{className:C.a.form_li},r.a.createElement("input",{type:"password",name:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handleInput,placeholder:"Enter password",className:C.a.form_input})),r.a.createElement("li",{className:C.a.form_li},r.a.createElement("button",{onClick:this.handleLoginSubmit,className:C.a.login_button},"Log in")))),r.a.createElement("div",{className:C.a.optionsContainer},r.a.createElement("p",null,"Don't have an account yet?"," ",r.a.createElement("span",{className:C.a.options_span},r.a.createElement(D.b,{to:"/register"},"Sign up")))," "))}}]),t}(n.Component),T=R=Object(b.b)((function(e){return{isLoggedIn:e.isLoggedIn,loginError:e.loginError}}),(function(e){return{dispatchLoginUser:function(t){return e(B(t))}}}))(R),U=a(11),F=a.n(U),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).clearInput=function(){var e=a.state;for(var t in e)e[t]="";return a.setState(e)},a.handleStepOneSubmit=function(e){e.preventDefault();var t={};return a.state.password!==a.state.confirmPassword&&(t.password="passwords must match"),""===a.state.username||a.state.username.includes(" ")?t.username="username is required":a.state.username.includes(" ")&&(t.username="username cannot contain any spaces."),0!==Object.keys(t).length?a.setState({errors:Object(g.a)({},t)}):a.setState({step:2,errors:{}})},a.handleRegisterSubmit=function(e){e.preventDefault();var t={};if(""===a.state.firstname&&(t.firstname="your first name is required."),""===a.state.lastname&&(t.lastname="your last name is required."),0!==Object.keys(t).length)return a.setState({errors:Object(g.a)({},t)});var n=Object(g.a)({},a.state);return delete n.step,delete n.confirmPassword,delete n.errors,a.props.dispatchRegisterUser(n),a.clearInput(),a.props.history.push("/login")},a.handleInput=function(e){var t=e.target,n=t.value,r=t.name,o=Object(g.a)({},a.state);o[r]=n,a.setState(o)},a.state={username:"",password:"",firstname:"",lastname:"",confirmPassword:"",email:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.step?2===this.state.step?r.a.createElement("div",{className:F.a.RegisterComponent},r.a.createElement("h3",null,"Register with Kanban"),r.a.createElement("h5",null,"Step 2 of 2"),r.a.createElement("form",null,r.a.createElement("ul",{className:F.a.form_ul},r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"text",name:"firstname",autoComplete:"firstname",value:this.state.firstname,onChange:this.handleInput,placeholder:"First Name",className:F.a.form_input}),this.state.errors&&this.state.errors.firstname?r.a.createElement("p",{className:F.a.form_li_error},"*",this.state.errors.firstname):null),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"text",name:"lastname",autoComplete:"lastname",value:this.state.lastname,onChange:this.handleInput,placeholder:"Last Name",className:F.a.form_input}),this.state.errors&&this.state.errors.lastname?r.a.createElement("p",{className:F.a.form_li_error},"*",this.state.errors.lastname):null),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"text",name:"email",autoComplete:"email",value:this.state.email,onChange:this.handleInput,placeholder:"Email Address (optional)",className:F.a.form_input})),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("button",{onClick:this.handleRegisterSubmit,className:F.a.register_button},"Sign up")))),r.a.createElement("div",{className:F.a.optionsContainer},r.a.createElement("p",null,"Already have an account?"," ",r.a.createElement("span",{className:F.a.options_span},r.a.createElement(D.b,{to:"/login"},"Log in")))," ")):void 0:r.a.createElement("div",{className:F.a.RegisterComponent},r.a.createElement("h3",null,"Register with Kanban"),r.a.createElement("form",null,r.a.createElement("ul",{className:F.a.form_ul},r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInput,placeholder:"Enter username",className:F.a.form_input,autoComplete:"username"}),this.state.errors&&this.state.errors.username?r.a.createElement("p",{className:F.a.form_li_error},"*",this.state.errors.username):null),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInput,placeholder:"Enter password",autoComplete:"new-password",className:F.a.form_input})),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("input",{type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleInput,placeholder:"Confirm Password",className:F.a.form_input,autoComplete:"new-password"}),this.state.errors&&this.state.errors.password?r.a.createElement("p",{className:F.a.form_li_error},"*",this.state.errors.password):null),r.a.createElement("li",{className:F.a.form_li},r.a.createElement("button",{onClick:this.handleStepOneSubmit,className:F.a.register_button},"Sign up")))),r.a.createElement("div",{className:F.a.optionsContainer},r.a.createElement("p",null,"Already have an account?"," ",r.a.createElement("span",{className:F.a.options_span},r.a.createElement(D.b,{to:"/login"},"Log in")))," "))}}]),t}(n.Component),G=Object(A.g)(H=Object(b.b)(null,(function(e){return{dispatchRegisterUser:function(t){return e(j(t))}}}))(H)),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={pathname:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:_.a.container},r.a.createElement("div",{className:_.a.authBox},this.props.pathname.includes("login")?r.a.createElement(T,null):r.a.createElement(G,null)))}}]),t}(n.Component),K=J=Object(b.b)(null,(function(e){return{dispatchRegisterUser:function(){return e(j())},dispatchLoginUser:function(){return e(B())}}}))(J),z=function(e){var t=window.location.pathname;return sessionStorage.getItem("user")?r.a.createElement(A.a,{to:"/"}):r.a.createElement("div",{className:h.a.AuthPage},r.a.createElement(K,{pathname:t}))},W=a(79),V=a.n(W),q=a(30),Y=a.n(q),Q=a(9),Z=a(21),X=a.n(Z),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createBoard=function(e){e.preventDefault();var t=Object(g.a)({},a.state);return t.created_by=JSON.parse(sessionStorage.getItem("user")).id,t.url||(t.url="#ffffff"),a.props.dispatchCreateBoard(t),a.setState({name:"",url:""},a.props.toggleAddNewBoard())},a.handleInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.stopPropagation=function(e){return e.stopPropagation()},a.toggleColor=function(e){var t=e.target.id;return a.setState({url:t})},a.state={name:"",description:"",url:"#ffffff"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:X.a.AddNewBoard,onClick:this.props.toggleAddNewBoard},r.a.createElement("form",{onSubmit:this.createBoard,className:X.a.addNewBoardForm,onClick:this.stopPropagation},r.a.createElement("h3",null,"Add Board"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"Board Name",onChange:this.handleInput,className:X.a.nameInput}),r.a.createElement("div",{className:X.a.descriptionContainer},r.a.createElement("h4",{className:X.a.subHeader},"Description"),r.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,placeholder:"What is this board for?",onChange:this.handleInput})),r.a.createElement("div",{className:X.a.colorPickerContainer},r.a.createElement("h4",{className:X.a.subHeader},"Background Color"),r.a.createElement("div",{className:X.a.colorPickerOptionsContainer},this.props.colors?Object.keys(this.props.colors).map((function(t){var a={backgroundColor:t};return r.a.createElement("label",{key:t,className:X.a.colorPickerLabel,style:a,onClick:e.toggleColor,name:t},r.a.createElement("input",{type:"radio",className:X.a.colorPickerInput,name:"color",id:t}),r.a.createElement("span",{className:X.a.colorPickerCustom}))})):null)),r.a.createElement("div",{className:X.a.buttonsContainer},r.a.createElement("button",{type:"submit"},"Create"),r.a.createElement("button",{type:"button",onClick:this.props.toggleAddNewBoard},"Cancel"))))}}]),t}(n.Component),ee=$=Object(b.b)((function(e){return{colors:e.initLabels}}),(function(e){return{dispatchCreateBoard:function(t){e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/boards/new",S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"CREATE_BOARD",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))}}}))($),te=a(17),ae=a.n(te),ne=a(28),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.board,t=e.name,n=e.description,r=a.props.board.boardImage.url;return a.setState({name:t,description:n,url:r})},a.updateBoard=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=Object(g.a)({},a.state);return delete t.showMenu,0===t.name.length&&(t.name=a.props.board.name),console.log(t),t.id=a.props.board.id,a.props.dispatchUpdateBoard(t),a.setState({showMenu:!1,is_archived:!1})},a.handleInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.toggleColor=function(e){var t=e.target.id;return a.setState({url:t})},a.toggleMenu=function(e){return e&&(e.stopPropagation(),e.preventDefault()),a.setState({showMenu:!a.state.showMenu,is_archived:!1})},a.archive=function(e){return e&&(e.stopPropagation(),e.preventDefault()),a.state.is_archived?a.setState({is_archived:!a.state.is_archived}):a.setState({is_archived:!0})},a.unarchive=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.setState({is_archived:!1},a.updateBoard)},a.stopPropagation=function(e){return e.stopPropagation()},a.state={showMenu:!1,name:"",description:"",url:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.board;return a.boardImage&&a.boardImage.url.startsWith("#")?e={backgroundColor:a.boardImage.url}:a.boardImage&&a.boardImage.url&&(e={background:"url(".concat(a.boardImage.url,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),r.a.createElement("div",{className:ae.a.thumbnailContainer,style:e},r.a.createElement(D.b,{style:{textDecoration:"none"},to:"/b/".concat(this.props.board.id,"/").concat(this.props.board.name)},r.a.createElement("div",{id:a.id,className:ae.a.BoardThumbnail},a.name,this.props.board.is_archived?r.a.createElement("button",{onClick:this.unarchive,className:ae.a.unarchiveButton},"Unarchive"):this.props.isNotOwner?null:r.a.createElement("button",{onClick:this.toggleMenu,className:ae.a.menuButton}))),this.state.showMenu?r.a.createElement("div",{className:ae.a.updateBoardContainer,onClick:this.toggleMenu},r.a.createElement("form",{onSubmit:this.updateBoard,className:ae.a.updateBoard,onClick:this.stopPropagation},r.a.createElement("h3",null,"Edit Board"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInput,placeholder:this.props.board.name}),r.a.createElement("div",{className:ae.a.descriptionContainer},r.a.createElement("h4",{className:ae.a.subHeader},"Description"),r.a.createElement(ne.a,{name:"description",minRows:5,onChange:this.handleInput,value:this.state.description})),r.a.createElement("div",{className:ae.a.colorPickerContainer},r.a.createElement("h4",{className:ae.a.subHeader},"Background Color"),r.a.createElement("div",{className:ae.a.colorPickerOptionsContainer},this.props.colors?Object.keys(this.props.colors).map((function(e){var a={backgroundColor:e},n=!1;return t.props.board.boardImage.url===e&&(n=!0),r.a.createElement("label",{key:e,className:ae.a.colorPickerLabel,style:a,onClick:t.toggleColor,name:e},r.a.createElement("input",{type:"radio",className:ae.a.colorPickerInput,name:"color",id:e,defaultChecked:n}),r.a.createElement("span",{className:ae.a.colorPickerCustom}))})):null)),r.a.createElement("div",{className:ae.a.buttonsContainer},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"button",onClick:this.toggleMenu},"Cancel"),r.a.createElement("button",{onClick:this.archive,type:"button",style:this.state.is_archived?{backgroundColor:"#eb5946"}:null},this.state.is_archived?"Unarchive":"Archive")))):null)}}]),t}(n.Component),oe=re=Object(b.b)((function(e){return{colors:e.initLabels}}),(function(e){return{dispatchUpdateBoard:function(t){return e(M(t))}}}))(re),se=a(80),ie=a.n(se),le=function(e){var t=JSON.parse(sessionStorage.getItem("user"));return r.a.createElement("div",{className:ie.a.ProfileButton,onClick:e.toggleProfileMenu},t.firstname&&t.lastname?t.firstname[0].toUpperCase()+t.lastname[0].toUpperCase():t.username.substring(0,2).toUpperCase())},ce=a(39),ue=a.n(ce),de=a(62),pe=a.n(de),me=a(40),he=a.n(me),be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.setState({name:a.props.card.name})},a.componentDidUpdate=function(e){if(e.card!==a.props.card)return a.setState({name:a.props.card.name})},a.updateCard=function(e){e&&e.preventDefault();var t=Object(g.a)({},a.state,{id:a.props.card.id});return delete t.label,delete t.showMenu,0===t.name.length&&(t.name=a.props.card.name),t.position="99",a.props.dispatchUpdateCardFromToDoList(t)},a.handleNameInput=function(e){e&&e.stopPropagation();var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.handleListInput=function(e){e&&e.stopPropagation();var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n),a.updateCard)},a.handleKeyPress=function(e){if("Enter"===e.key)return a.updateCard(),e.target.blur()},a.state={label:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:he.a.AssignedCard,onClick:function(e){e.stopPropagation()}},this.props.card.labels?r.a.createElement("div",{className:he.a.labelsContainer},this.props.card.labels.map((function(e){var t={backgroundColor:e.color},a=e.name;return r.a.createElement("div",{className:he.a.Label,key:e.color,style:t},a)}))):null,r.a.createElement("div",{className:he.a.cardBody},r.a.createElement("div",{className:he.a.content},r.a.createElement(ne.a,{className:he.a.cardName,type:"text",name:"name",minRows:1,value:this.state.name,onChange:this.handleNameInput,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:he.a.inWhere},"from"," ",r.a.createElement(D.b,{style:{textDecoration:"underline",color:"black"},to:"/b/".concat(this.props.card.board.id,"/").concat(this.props.card.board.name)},r.a.createElement("span",{onClick:this.props.closeProfileMenu}," ",this.props.card.board.name)),", in list",r.a.createElement("select",{name:"list_id",onChange:this.handleListInput,defaultValue:this.props.card.list_id},this.props.card.board.lists.sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)})).map((function(e){return e.is_archived?null:r.a.createElement("option",{value:e.id,key:e.id},e.name)})))," "))))}}]),t}(n.Component),fe=be=Object(b.b)((function(e){return{labels:e.labels}}),(function(e){return{dispatchUpdateCardFromToDoList:function(t){return e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/cards/".concat(e.id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_CARD_FROM_TODO",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))}}}))(be),_e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=JSON.parse(sessionStorage.getItem("user")).id;return a.props.dispatchGetUser(e)},a.handleKeyPress=function(e){if("Enter"===e.key)return e.target.blur()},a.state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:pe.a.ToDoList},0===this.props.cardsAssigned.length?r.a.createElement("div",{className:pe.a.noAssignedCards},"You have no cards assigned to you."):this.props.cardsAssigned.map((function(t,a){return r.a.createElement(fe,{card:t,key:a,handleKeyPress:e.handleKeyPress,closeProfileMenu:e.props.closeProfileMenu})})))}}]),t}(n.Component),ge=_e=Object(b.b)((function(e){return{cardsAssigned:e.cardsAssigned}}),(function(e){return{dispatchGetUser:function(t){return e(y(t))}}}))(_e),ve=a(26),Ce=a.n(ve),Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=a.props,t=e.username,n=e.firstname,r=e.lastname,o=e.email,s=e.id;return a.setState({username:t,firstname:n,lastname:r,email:o,id:s})},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;return a.setState(Object(Q.a)({},n,r))},a.handleDelete=function(e){if(e&&e.preventDefault(),window.confirm("Are you sure? \nYour account data, including all of your boards will be deleted and unrecoverable."))return a.props.dispatchDeleteUser()},a.submitForm=function(e){return e&&e.preventDefault(),a.props.dispatchUpdateUser(a.state),a.props.toggleThis()},a.stopPropagation=function(e){if(e)return e.stopPropagation()},a.state={username:"",firstname:"",lastname:"",email:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submitForm,className:Ce.a.EditProfileMenu_form,onClick:this.stopPropagation},r.a.createElement("label",{className:Ce.a.form_label},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInput,className:Ce.a.form_input})),r.a.createElement("label",{className:Ce.a.form_label},"First Name:",r.a.createElement("input",{type:"text",name:"firstname",value:this.state.firstname,onChange:this.handleInput,className:Ce.a.form_input})),r.a.createElement("label",{className:Ce.a.form_label},"Last Name:",r.a.createElement("input",{type:"text",name:"lastname",value:this.state.lastname,onChange:this.handleInput,className:Ce.a.form_input})),r.a.createElement("label",{className:Ce.a.form_label},"Email:",r.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInput,className:Ce.a.form_input})),r.a.createElement("div",{className:Ce.a.form_buttons_container},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{onClick:this.props.toggleThis},"Cancel"),r.a.createElement("button",{onClick:this.handleDelete,className:Ce.a.delete_account_button},"Delete")))}}]),t}(n.Component),Oe=Ee=Object(b.b)((function(e){return{username:e.username,email:e.email,firstname:e.firstname,lastname:e.lastname,id:e.user_id}}),(function(e){return{dispatchUpdateUser:function(t){return e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/users/".concat(e.id,"/"),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_USER",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))},dispatchDeleteUser:function(){var t,a=JSON.parse(sessionStorage.getItem("user")).id;return e((t=a,function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/users/".concat(t,"/"),P()).then((function(e){return e.json()})).then((function(t){return e({type:"DELETE_USER",payload:t})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}))}}}))(Ee),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleLogoutClick=function(){var e=JSON.parse(sessionStorage.getItem("user")).id;return a.props.dispatchLogoutUser(e)},a.handleMyProfileClick=function(e){return e&&(e.stopPropagation(),e.preventDefault()),a.setState({showEditProfile:!a.state.showEditProfile})},a.handleToDoClick=function(e){return e&&e.stopPropagation(),a.setState({showAssignedCards:!a.state.showAssignedCards})},a.state={showAssignedCards:!1,showEditProfile:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ue.a.ProfileMenu_container,onClick:this.props.toggleThis},r.a.createElement("ul",{className:ue.a.ProfileMenu},r.a.createElement("div",{className:ue.a.menuHeader},r.a.createElement("h3",null,"Profile Menu"),r.a.createElement("button",{className:ue.a.exitButton,onClick:this.props.toggleThis})),r.a.createElement("hr",null),r.a.createElement("li",{className:ue.a.menu_li,onClick:this.handleMyProfileClick},"My Profile"),this.state.showEditProfile?r.a.createElement(Oe,{toggleThis:this.handleMyProfileClick}):null,r.a.createElement("li",{className:ue.a.menu_li,onClick:this.handleToDoClick},"Assigned Card"),this.state.showAssignedCards?r.a.createElement(ge,{closeProfileMenu:this.props.toggleThis}):null,r.a.createElement("li",{onClick:this.handleLogoutClick,className:ue.a.menu_li},"Logout")))}}]),t}(n.Component),ye=Object(A.g)(Ne=Object(b.b)((function(e){return{}}),(function(e){return{dispatchLogoutUser:function(t){return e((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(fetch("/api/auth/logout").then((function(e){e.json()})).then((function(t){return e({type:"LOGOUT_USER",payload:t})})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}))}))},dispatchToggleModal:function(t){return e(N(t))}}}))(Ne)),Be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){if(sessionStorage.getItem("user")){var e=JSON.parse(sessionStorage.getItem("user")).id;return a.props.dispatchGetUser(e)}},a.toggleAddNewBoard=function(){return a.setState({addNewBoard:!a.state.addNewBoard})},a.toggleArchivedBoards=function(){return a.setState({showArchived:!a.state.showArchived})},a.toggleProfileMenu=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.setState({showProfileMenu:!a.state.showProfileMenu})},a.state={addNewBoard:!1,showArchived:!1,showProfileMenu:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Y.a.BoardsList},r.a.createElement(le,{username:JSON.parse(sessionStorage.getItem("user")).username,toggleProfileMenu:this.toggleProfileMenu}),this.state.showProfileMenu?r.a.createElement(ye,{toggleThis:this.toggleProfileMenu}):null,r.a.createElement("h2",null,"My Boards"),r.a.createElement("div",{className:Y.a.BoardsContainer},this.props.boards?this.props.boards.map((function(e){return e.is_archived?null:r.a.createElement(oe,{board:e,key:e.id})})):null,r.a.createElement("div",{className:Y.a.container,onClick:this.toggleAddNewBoard},r.a.createElement("div",{className:Y.a.BoardThumbnail},"Create new board"))),r.a.createElement("h2",null,"Shared Boards"),r.a.createElement("div",{className:Y.a.BoardsContainer},this.props.collaborations&&this.props.collaborations.length>0?this.props.collaborations.map((function(e){return e.is_archived?null:r.a.createElement(oe,{board:e,key:e.id,isNotOwner:!0})})):r.a.createElement("div",{className:Y.a.noArchivedBoardsMessage},'"You have no shared boards"')),this.state.showArchived?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Archived Boards"),this.props.boards.every((function(e){return!e.is_archived}))?r.a.createElement("div",{className:Y.a.noArchivedBoardsMessage},'"You have no archived boards"'):r.a.createElement("div",{className:Y.a.BoardsContainer},this.props.boards.map((function(t){return t.is_archived?r.a.createElement(oe,{board:t,key:t.id,getBoardData:e.getBoardData}):null})))):null,r.a.createElement("button",{className:Y.a.showArchivedButton,onClick:this.toggleArchivedBoards},this.state.showArchived?"Hide archived":"Show archived"),this.state.addNewBoard?r.a.createElement(ee,{toggleAddNewBoard:this.toggleAddNewBoard}):null)}}]),t}(n.Component),je=Be=Object(b.b)((function(e){return{boards:e.boards,collaborations:e.collaborations}}),(function(e){return{dispatchGetBoards:function(t){return e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/boards/all/".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log("json",e),t({type:"GET_BOARDS",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))},dispatchGetBoardData:function(t){return e(w(t))},dispatchGetUser:function(t){return e(y(t))}}}))(Be),ke=a(44),Le=a(13),Me=a.n(Le),we=a(19),Se=a.n(we),Ie=a(37),Pe=a(14),xe=a.n(Pe),Ae=a(33),De=a.n(Ae),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.labels.reduce((function(e,t){return Object.assign(e,Object(Q.a)({},t,!1))}),{});return a.setState(e)},a.addLabels=function(e){e.preventDefault(),e.stopPropagation();var t={card_id:a.props.card.id,label_ids:[]};for(var n in a.state)a.state[n]&&t.label_ids.push(a.state[n].id);return a.props.dispatchAddLabels(t),a.props.toggleLabelsMenu()},a.toggleSelect=function(e){var t=e.target.name;return a.state[t]?a.setState(Object(Q.a)({},t,!1)):a.setState(Object(Q.a)({},t,a.props.labels[t]))},a.componentDidMount=function(){var e=Object(g.a)({},a.props.labels),t=Object(i.a)(a.props.card.labels);for(var n in e)e[n]=!1;for(var r=0;r<t.length;r++)e[t[r].color]=t[r];return a.setState(e)},a.state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:De.a.CardLabels},r.a.createElement("div",{className:De.a.cardLabelsHeader},r.a.createElement("h5",null,"Labels"),r.a.createElement("button",{onClick:this.props.toggleLabelsMenu,className:De.a.exitButton})),r.a.createElement("div",{className:De.a.cardLabelsForm},Object.values(this.props.labels).map((function(t){if(t.hasOwnProperty("id")){var a={backgroundColor:t.color};return r.a.createElement("label",{key:t.color,style:a,className:De.a.checkboxLabel,onClick:e.toggleSelect,name:t.color},r.a.createElement("input",{type:"checkbox",name:t.color,defaultChecked:e.state[t.color],className:De.a.checkboxInput}),r.a.createElement("span",{className:De.a.checkboxCustom}),t.name)}return null})),r.a.createElement("button",{type:"submit",onClick:this.addLabels,className:De.a.saveButton},"Save"," ")))}}]),t}(n.Component),Te=Re=Object(b.b)(null,(function(e){return{dispatchAddLabels:function(t){return e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/cards/labels/".concat(e.card_id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_CARD",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))}}}))(Re),Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.setState({name:a.props.card.name,id:a.props.card.id,collaborators:a.props.collaborators,assigned_to:a.props.card.assigned_to})},a.toggleLabelsMenu=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.setState({openCardLabels:!a.state.openCardLabels})},a.handleCardInput=function(e){var t=e.target,n=t.value,r=t.name;return"list_id"!==r&&"assigned_to"!==r||(n=parseInt(n)),a.setState(Object(Q.a)({},r,n))},a.updateCard=function(e){e&&e.preventDefault();var t=Object(g.a)({},a.state);return 0===t.name.length&&(t.name=a.props.card.name),delete t.openCardLabels,delete t.collaborators,t.position="99",a.props.dispatchUpdateCard(t),a.props.toggleMenu()},a.toggleArchive=function(e){return e.preventDefault(),e.stopPropagation(),a.setState({is_archived:!a.state.is_archived})},a.stopPropagation=function(e){if(e)return e.stopPropagation()},a.state={is_archived:!1,openCardLabels:!1,collaborators:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:xe.a.CardMenu,onClick:this.props.toggleMenu},r.a.createElement("div",{onClick:this.stopPropogation,className:xe.a.updateCardContainer},r.a.createElement("form",{onSubmit:this.updateCard,className:xe.a.updateCardForm,onClick:this.stopPropagation},r.a.createElement("div",{className:xe.a.cardMenuHeader},r.a.createElement("div",{className:xe.a.cardMenuHeaderInputs},r.a.createElement(ne.a,{name:"name",minRows:1,value:this.state.name,onChange:this.handleCardInput,className:xe.a.updateCardName}),r.a.createElement("button",{className:xe.a.exitButton})),r.a.createElement("div",{className:xe.a.listsContainer},"in list",r.a.createElement("select",{name:"list_id",onChange:this.handleCardInput,defaultValue:this.props.card.list_id},this.props.lists.map((function(e){return e.is_archived?null:r.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.a.createElement("h4",null,"Labels"),this.props.card.labels?r.a.createElement("div",{className:xe.a.labelsContainer},this.props.card.labels.map((function(t){var a={backgroundColor:t.color},n=e.props.labels[t.color].name;return r.a.createElement("div",{className:xe.a.Label,key:t.color,style:a},n)})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleLabelsMenu,className:xe.a.labelsButton}),this.state.openCardLabels?r.a.createElement(Te,{card:this.props.card,labels:this.props.labels,toggleLabelsMenu:this.toggleLabelsMenu}):null)):null,r.a.createElement("h4",null,"Description"),r.a.createElement(ne.a,{type:"text",name:"details",minRows:1,onChange:this.handleCardInput,defaultValue:this.props.card.details,value:this.state.details,className:xe.a.editDetails}),r.a.createElement("div",{className:xe.a.assigned_created_container},r.a.createElement("p",{className:xe.a.assignedTo},"assigned to"," ",r.a.createElement("select",{name:"assigned_to",value:this.state.assigned_to?this.state.assigned_to:"",onChange:this.handleCardInput},r.a.createElement("option",{value:""},"unassigned"),r.a.createElement("option",{value:this.props.createdBy.id},this.props.createdBy.firstname+" "+this.props.createdBy.lastname),this.state.collaborators?this.state.collaborators.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.firstname+" "+e.lastname)})):null)),r.a.createElement("p",{className:xe.a.createdBy},this.props.card.createdBy.firstname+" "+this.props.card.createdBy.lastname)),r.a.createElement("div",{className:xe.a.buttonsContainer},r.a.createElement("button",{onClick:this.toggleArchive,style:this.state.is_archived?{backgroundColor:"#eb5946",color:"white"}:null},this.state.is_archived?"Unarchive":"Archive"),r.a.createElement("button",{type:"submit",className:xe.a.saveButton},"Save")))))}}]),t}(n.Component),Fe=Ue=Object(b.b)((function(e){return{lists:e.lists,labels:e.labels,collaborators:e.collaborators,user_id:e.user_id,createdBy:e.createdBy}}),(function(e){return{dispatchUpdateCard:function(t){return e(k(t))}}}))(Ue),He=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.setState({name:a.props.card.name})},a.componentDidUpdate=function(e){if(e.card!==a.props.card)return a.setState({name:a.props.card.name})},a.updateCard=function(e){e&&e.preventDefault();var t=Object(g.a)({},a.state,{id:a.props.card.id});return delete t.label,delete t.showMenu,0===t.name.length&&(t.name=a.props.card.name),a.props.dispatchUpdateCard(t)},a.toggleMenu=function(e){return e&&e.stopPropagation(),a.setState({showMenu:!a.state.showMenu})},a.handleCardInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.handleLabelInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState({label:Object(Q.a)({},r,n)})},a.handleKeyPress=function(e){if("Enter"===e.key)return a.updateCard(),e.target.blur()},a.state={showMenu:!1,label:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ie.b,{draggableId:this.props.card.id.toString(),index:this.props.index},(function(t){return r.a.createElement("div",Object.assign({className:Se.a.Card},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),r.a.createElement("div",{className:Se.a.card_labelsAndMenu},e.props.card.labels?r.a.createElement("div",{className:Se.a.labelsContainer},e.props.card.labels.map((function(t){var a={backgroundColor:t.color},n=e.props.labels[t.color].name;return r.a.createElement("div",{className:Se.a.Label,key:t.color,style:a},r.a.createElement("span",null," ",n))}))):null,r.a.createElement("button",{onClick:e.toggleMenu,className:Se.a.menuButton})),r.a.createElement("div",{className:Se.a.cardBody},r.a.createElement(ne.a,{className:Se.a.cardName,type:"text",name:"name",minRows:1,value:e.state.name,onChange:e.handleCardInput,onKeyPress:e.handleKeyPress})),r.a.createElement("div",{className:Se.a.card_extraInfo,onClick:e.toggleMenu},r.a.createElement("div",{className:Se.a.card_extraInfo_userInfo},e.props.card.assignedTo?r.a.createElement("span",null,"assigned to: ",e.props.card.assignedTo.firstname):null),e.props.card.details?r.a.createElement("div",{className:Se.a.extraInfo_details},r.a.createElement("hr",{className:Se.a.details_top}),r.a.createElement("hr",{className:Se.a.details_middle}),r.a.createElement("hr",{className:Se.a.details_bottom})):null),e.state.showMenu?r.a.createElement(Fe,{card:e.props.card,toggleMenu:e.toggleMenu,updateCard:e.updateCard}):null)}))}}]),t}(n.Component),Ge=He=Object(b.b)((function(e){return{labels:e.labels}}),(function(e){return{dispatchUpdateCard:function(t){return e(k(t))}}}))(He),Je=a(84),Ke=a.n(Je),ze=function(e){return r.a.createElement("button",{type:"submit",className:Ke.a.ReturnButton,onSubmit:e.func},"Save")},We=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateList=function(e){e&&e.preventDefault();var t=Object(g.a)({},a.state.list,{id:a.props.list.id});return 0===t.name.length&&(t.name=a.props.list.name),t.cards&&delete t.cards,a.props.dispatchUpdateList(t),a.setState({showMenu:!1,showNameReturn:!1})},a.createCard=function(e){if(e.preventDefault(),0===a.state.name.length)return a.hideCancelButton();var t,n=a.props.cards;t=a.props.cards&&0!==n.length?parseFloat(parseFloat(n[n.length-1].position)+1):1;var r=Object(g.a)({},a.state,{list_id:a.props.list.id,position:t,created_by:JSON.parse(sessionStorage.getItem("user")).id,board_id:a.props.list.board_id});return delete r.list,delete r.showMenu,delete r.showCancelButton,delete r.showCardReturn,delete r.showNameReturn,a.props.dispatchCreateCard(r),a.setState({name:"",showCardReturn:!1},a.hideCancelButton())},a.handleCardInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.handleListInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState({list:Object(Q.a)({},r,n)})},a.handleListNameClick=function(e){return e.preventDefault(),a.setState({showNameReturn:!0})},a.handleCardNameClick=function(e){return e.preventDefault(),a.setState({showCardReturn:!0},a.showCancelButton)},a.toggleMenu=function(e){return a.setState({showMenu:!a.state.showMenu})},a.archiveList=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.state.list.is_archived?a.setState({list:Object(g.a)({},a.state.list,{is_archived:!a.state.list.is_archived})}):a.setState({list:Object(g.a)({},a.state.list,{is_archived:!0})})},a.showCancelButton=function(){return a.setState({showCancelButton:!0})},a.hideCancelButton=function(e){return e&&e.preventDefault(),a.setState({showCancelButton:!1,showCardReturn:!1,name:""})},a.handleListNameBlur=function(e){return e.preventDefault(),setTimeout((function(){return a.setState({showNameReturn:!1,list:{name:a.props.list.name}})}),500)},a.handleCardInputBlur=function(e){return e.preventDefault(),setTimeout((function(){return a.setState({showCardReturn:!1,name:"",showCancelButton:!1})}),500)},a.setWrapperRef=a.setWrapperRef.bind(Object(ke.a)(a)),a.handleClickOutside=a.handleClickOutside.bind(Object(ke.a)(a)),a.state={list:{name:""},showMenu:!1,showCancelButton:!1,showNameReturn:!1,showCardReturn:!1,name:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){return document.addEventListener("mousedown",this.handleClickOutside),this.setState({list:Object(g.a)({},this.props.list)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e){if(this.props.list!==e.list)return this.setState({list:this.props.list})}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){if(this.wrapperRef&&!this.wrapperRef.contains(e.target)&&"listMenuButton"!==e.target.id)return this.setState({showMenu:!this.state.showMenu})}},{key:"render",value:function(){var e=this;return r.a.createElement(Ie.b,{draggableId:"draggableList_"+this.props.list.id.toString(),index:this.props.index},(function(t){return r.a.createElement("div",Object.assign({className:Me.a.List,key:e.props.list.id},t.draggableProps,{ref:t.innerRef}),r.a.createElement("div",Object.assign({className:Me.a.listDragHandle},t.dragHandleProps)," "),r.a.createElement("div",{className:Me.a.listHeader},r.a.createElement("form",{onSubmit:e.updateList,className:Me.a.listHeader_form,onBlur:e.handleListNameBlur},r.a.createElement("input",{type:"text",onChange:e.handleListInput,value:e.state.list.name,name:"name",onKeyPress:e.props.handleKeyPress,className:Me.a.listName,onClick:e.handleListNameClick}),e.state.showNameReturn?r.a.createElement("span",{className:Me.a.returnButton_span},r.a.createElement(ze,{func:e.updateList})):null),r.a.createElement("button",{id:"listMenuButton",onClick:e.toggleMenu,className:Me.a.menuButton})),e.state.showMenu?r.a.createElement("ul",{className:Me.a.listMenu,ref:e.setWrapperRef},r.a.createElement("li",{className:Me.a.listHeader},r.a.createElement("h4",null,"List Actions"),r.a.createElement("button",{className:Me.a.exitButton,onClick:e.toggleMenu})),r.a.createElement("hr",null),r.a.createElement("li",{style:e.state.list.is_archived?{backgroundColor:"#eb5946",color:"white"}:null,className:Me.a.li_listMenuOption,onClick:e.archiveList},e.state.list.is_archived?"Unarchive List":"Archive List"),r.a.createElement("button",{className:Me.a.saveButton,onClick:e.updateList},"Save")):null,e.props.list.is_archived?null:r.a.createElement(Ie.c,{droppableId:e.props.list.id.toString(),type:"cards"},(function(t){return r.a.createElement("ul",Object.assign({ref:t.innerRef},t.droppableProps,{className:Me.a.listOfCards}),e.props.cards?e.props.cards.map((function(t,a){return!1===t.is_archived&&t.list_id===e.props.list.id?r.a.createElement(Ge,{card:t,key:t.id,index:a,handleKeyPress:e.props.handleKeyPress}):null})):null,t.placeholder)})),r.a.createElement("div",{className:Me.a.AddCard},r.a.createElement("form",{onSubmit:e.createCard,className:Me.a.addCardForm},r.a.createElement("input",{type:"text",name:"name",className:Me.a.addCardInput,value:e.state.name,placeholder:"+ Add a card",onChange:e.handleCardInput,onKeyPress:e.props.handleKeyPress,onClick:e.handleCardNameClick,autoComplete:"off",onBlur:e.handleCardInputBlur}),e.state.showCardReturn?r.a.createElement("button",{type:"submit",className:Me.a.plusButton}):null),e.state.showCancelButton?r.a.createElement("button",{onClick:e.hideCancelButton,className:Me.a.exitButton}):null))}))}}]),t}(n.Component),Ve=We=Object(b.b)((function(e){return{watchLists:e.lists}}),(function(e){return{dispatchCreateCard:function(t){e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch("/api/cards/new",S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"CREATE_CARD",payload:e})})).catch((function(e){console.log(e)})));case 2:case"end":return a.stop()}}))}}(t))},dispatchUpdateList:function(t){e(L(t))}}}))(We),qe=a(34),Ye=a.n(qe),Qe=a(48),Ze=a.n(Qe),Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createOrUpdateLabel=function(e){if(e.preventDefault(),e.target.id){var t=e.target,n=t.name,r=t.id,o={color:n,name:a.state[n],board_id:a.props.board_id,id:r};return a.props.dispatchUpdateLabel(o)}var s=e.target.name,i={color:s,name:a.state[s],board_id:a.props.board_id};return a.props.dispatchCreateLabel(i)},a.handleLabelInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.handleInputClick=function(e){var t=e.target,n=t.name,r=t.value;return a.setState(Object(Q.a)({},n,r))},a.state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Ze.a.LabelsMenu},Object.values(this.props.labels).map((function(t){var a={backgroundColor:t.color};return r.a.createElement("form",{onSubmit:e.createOrUpdateLabel,style:a,key:t.color,name:t.color,id:t.id,className:Ze.a.labelForm,onBlur:e.createOrUpdateLabel},r.a.createElement("input",{type:"text",name:t.color,defaultValue:t.name,onChange:e.handleLabelInput,onClick:e.handleInputClick,className:Ze.a.labelFormTextInput}),r.a.createElement("input",{type:"submit",value:t.name?"Edit":"Save",className:Ze.a.submitButton}))})))}}]),t}(n.Component),$e=Xe=Object(b.b)((function(e){return{board_id:e.id,labels:e.labels}}),(function(e){return{dispatchCreateLabel:function(t){return e(function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/labels/new",S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"CREATE_LABEL",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}}(t))},dispatchUpdateLabel:function(t){return e(function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/labels/".concat(e.id),I(e)).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_LABEL",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}}(t))}}}))(Xe),et=a(35),tt=a.n(et),at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).toggleItems=function(){return a.setState({showLists:!a.state.showLists})},a.unarchiveCard=function(e){var t={id:e.target.id,is_archived:!1};return a.props.dispatchUpdateCard(t)},a.unarchiveList=function(e){var t={id:e.target.id,is_archived:!1};return a.props.dispatchUpdateList(t)},a.state={showLists:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:tt.a.ArchivedItems},r.a.createElement("div",{className:tt.a.menuContainer},r.a.createElement("h4",null,this.state.showLists?"Archived Lists":"Archived Cards"),r.a.createElement("button",{onClick:this.toggleItems,className:tt.a.cardsListsToggleButton},"Show ",this.state.showLists?"Cards":"Lists")),r.a.createElement("ul",{className:tt.a.itemsList},this.state.showLists?this.props.lists.map((function(t){return r.a.createElement("div",{className:tt.a.archivedContainer,key:t.id},t.name,r.a.createElement("button",{onClick:e.unarchiveList,id:t.id,className:tt.a.unarchiveButton},"Unarchive"))})):this.props.cards.map((function(t){return r.a.createElement("div",{className:tt.a.archivedContainer,key:t.id},r.a.createElement("p",null,t.name),r.a.createElement("button",{onClick:e.unarchiveCard,id:t.id,className:tt.a.unarchiveButton},"Unarchive"))}))))}}]),t}(n.Component),nt=at=Object(b.b)((function(e){return{cards:e.cards.filter((function(e){return e.is_archived})),lists:e.lists.filter((function(e){return e.is_archived}))}}),(function(e){return{dispatchUpdateCard:function(t){return e(k(t))},dispatchUpdateList:function(t){return e(L(t))}}}))(at),rt=a(27),ot=a.n(rt),st=a(49),it=a.n(st),lt=function(e){return r.a.createElement("li",{className:it.a.SearchResult},r.a.createElement("label",{name:e.result.id,className:e.checked?it.a.checkedLabel:it.a.checkboxLabel,onClick:e.toggleSelect},e.result.firstname+" "+e.result.lastname,r.a.createElement("input",{type:"checkbox",name:e.result.id,className:it.a.checkboxInput,defaultChecked:!!e.checked})))},ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){if(a.props.collaborators){var e=a.props.collaborators.map((function(e){return e.id}));return a.setState({collaborators:a.props.collaborators,invited:e})}},a.componentDidUpdate=function(e){if(e.users!==a.props.users)return a.setState({users:a.props.users});if(e.collaborators!==a.props.collaborators){var t=a.props.collaborators.map((function(e){return e.id}));return a.setState({collaborators:a.props.collaborators,invited:t})}},a.handleInput=function(e){return e&&e.stopPropagation(),a.setState({searchTerm:e.target.value},(function(){a.props.dispatchGetUsers(a.state.searchTerm)}))},a.toggleSelect=function(e){e&&e.stopPropagation();var t=Object(i.a)(a.state.invited),n=parseInt(e.target.name);return a.state.invited.includes(n)?t.splice(t.indexOf(n),1):isNaN(n)||t.push(n),a.setState({invited:t})},a.toggleSelectCollab=function(e){e&&e.stopPropagation();var t=Object(i.a)(a.state.invited),n=parseInt(e.target.dataset.name);return a.state.invited.includes(n)?t.splice(t.indexOf(n),1):isNaN(n)||t.push(n),a.setState({invited:t})},a.handleInvite=function(){var e={invitations:a.state.invited,id:a.props.id};return a.setState({searchTerm:"",users:[]},(function(){return a.props.dispatchInviteCollaborators(e)}))},a.handleCancel=function(e){return a.props.toggleMenu(e)},a.state={searchTerm:"",collaborators:[],users:[],invited:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:ot.a.CollaboratorsMenu},r.a.createElement("li",{className:ot.a.collabs_container},this.state.collaborators&&this.state.collaborators.length>0?this.state.collaborators.map((function(t){return e.state.invited.includes(t.id)?r.a.createElement("span",{className:ot.a.collaborator,key:t.id,onClick:e.toggleSelectCollab,"data-name":t.id},t.firstname[0].toUpperCase()+t.lastname[0].toUpperCase()):r.a.createElement("span",{className:ot.a.collaborator_removed,key:t.id,onClick:e.toggleSelectCollab,"data-name":t.id})})):r.a.createElement("div",{className:ot.a.noCollabs},"There are no collaborators yet.")),r.a.createElement("li",{className:ot.a.search_container},r.a.createElement("input",{type:"search",name:"searchTerm",id:"searchTerm",placeholder:"Find a team member",className:ot.a.search_input,value:this.state.searchTerm,onChange:this.handleInput}),r.a.createElement("ul",{className:ot.a.search_ul},this.state.users.map((function(t){return t.id!==e.props.created_by?r.a.createElement(lt,{result:t,toggleSelect:e.toggleSelect,key:t.id,checked:!!e.state.invited.includes(t.id)}):null}))),r.a.createElement("div",{className:ot.a.search_buttons_li},r.a.createElement("button",{className:ot.a.search_button,onClick:this.handleInvite},"Update Team"),r.a.createElement("button",{className:ot.a.search_button,onClick:this.handleCancel,"data-menu":"collaboratorsMenu"},"Cancel"))))}}]),t}(n.Component),ut=ct=Object(b.b)((function(e){return{users:e.users,collaborators:e.collaborators,id:e.id,created_by:e.created_by}}),(function(e){return{dispatchGetUsers:function(t){return e(function(e){return function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e){a.next=2;break}return a.abrupt("return",t({type:"GET_USERS",payload:[]}));case 2:return a.next=4,O.a.awrap(fetch("/api/users/all?search=".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"GET_USERS",payload:e})})).catch((function(e){console.log(e)})));case 4:case"end":return a.stop()}}))}}(t))},dispatchInviteCollaborators:function(t){return e(function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/boards/invite/".concat(e.id),S(e)).then((function(e){return e.json()})).then((function(e){return t({type:"INVITE_COLLABORATORS",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}}(t))}}}))(ct),dt=a(36),pt=a.n(dt),mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.setState({name:a.props.name,details:a.props.details,description:a.props.description,url:a.props.boardImage.url,id:a.props.id,is_archived:a.props.is_archived})},a.updateBoard=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=Object(g.a)({},a.state);if(delete t.showMenu,0===t.name.length&&(t.name=a.props.name),0===t.url.length&&delete t.url,a.props.dispatchUpdateBoard(t),t.is_archived){var n=JSON.parse(sessionStorage.getItem("user")).username;return a.props.history.push("/dashboard/".concat(n,"/boards"))}return a.props.toggleMenu(e)},a.handleInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(Q.a)({},r,n))},a.toggleColor=function(e){var t=e.target.id;return a.setState({url:t})},a.archive=function(e){return e&&(e.stopPropagation(),e.preventDefault()),a.setState({is_archived:!a.state.is_archived})},a.unarchive=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.setState({is_archived:!1},a.updateBoard)},a.stopPropagation=function(e){return e.stopPropagation()},a.state={name:"",details:"",description:"",url:"",id:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.updateBoard,className:pt.a.EditBoardMenu,onClick:this.stopPropagation,"data-menu":"editBoardMenu"},r.a.createElement("label",null,"Board Name",r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInput,placeholder:this.props.name})),r.a.createElement("label",null,"Description",r.a.createElement(ne.a,{name:"description",minRows:1,onChange:this.handleInput,value:this.state.description})),r.a.createElement("label",null,"Background",r.a.createElement("div",{className:pt.a.colorPickerContainer},r.a.createElement("div",{className:pt.a.colorPickerOptionsContainer},this.props.colors?Object.keys(this.props.colors).map((function(t){var a={backgroundColor:t},n=!1;return e.props.boardImage&&e.props.boardImage.url===t&&(n=!0),r.a.createElement("label",{key:t,className:pt.a.colorPickerLabel,style:a,onClick:e.toggleColor,name:t},r.a.createElement("input",{type:"radio",className:pt.a.colorPickerInput,name:"color",id:t,defaultChecked:n}),r.a.createElement("span",{className:pt.a.colorPickerCustom}))})):null))),r.a.createElement("div",{className:pt.a.form_buttons_container},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"button","data-menu":"editBoardMenu",onClick:this.props.toggleMenu},"Cancel"),r.a.createElement("button",{type:"button",className:pt.a.buttons_archiveBoard,onClick:this.archive,style:this.state.is_archived?{backgroundColor:"#eb5946"}:null},this.state.is_archived?"Unarchive":"Archive")))}}]),t}(n.Component),ht=Object(A.g)(mt=Object(b.b)((function(e){return{colors:e.initLabels,name:e.name,description:e.description,boardImage:e.boardImage,id:e.id,is_archived:e.is_archived}}),(function(e){return{dispatchUpdateBoard:function(t){return e(M(t))}}}))(mt)),bt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).toggle=function(e){if(e){e.preventDefault(),e.stopPropagation();var t=e.target.id;if(t)return a.setState(Object(Q.a)({},t,!a.state[t]));if(e.target.dataset.menu)return a.setState(Object(Q.a)({},e.target.dataset.menu,!a.state[e.target.dataset.menu]))}},a.stopPropagation=function(e){return e.stopPropagation()},a.state={labelsMenu:!1,collaboratorsMenu:!1,editBoardMenu:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Ye.a.BoardMenuContainer,onClick:this.props.toggleMenu},r.a.createElement("ul",{className:Ye.a.BoardMenu,onClick:this.stopPropagation},r.a.createElement("div",{className:Ye.a.menuHeader},r.a.createElement("h3",null,"Menu "),r.a.createElement("button",{className:Ye.a.exitButton,onClick:this.props.toggleMenu})),r.a.createElement("hr",null),r.a.createElement("li",{className:Ye.a.MenuOption,id:"editBoardMenu",onClick:this.toggle},"Edit Board"),this.state.editBoardMenu?r.a.createElement(ht,{toggleMenu:this.toggle}):null,r.a.createElement("li",{className:Ye.a.MenuOption,id:"collaboratorsMenu",onClick:this.toggle},"Collaborators"),this.state.collaboratorsMenu?r.a.createElement(ut,{toggleMenu:this.toggle}):null,r.a.createElement("li",{className:Ye.a.MenuOption,id:"labelsMenu",onClick:this.toggle},"Labels"),this.state.labelsMenu?r.a.createElement($e,null):null,r.a.createElement("li",{className:Ye.a.MenuOption,id:"archivedItems",onClick:this.toggle},"Archived Items"),this.state.archivedItems?r.a.createElement(nt,null):null))}}]),t}(n.Component),ft=a(29),_t=a.n(ft),gt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=parseInt(window.location.pathname.split("/")[2]);return a.props.dispatchGetBoardData(e)},a.toggleMenu=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.setState({showMenu:!a.state.showMenu})},a.updateBoard=function(e){e.preventDefault();var t=Object(g.a)({},a.state.board,{id:a.props.board_id});return 0===t.name.length&&(t.name=a.props.name),a.props.dispatchUpdateBoard(t),a.setState({showNameReturn:!1})},a.createList=function(e){if(e.preventDefault(),0===a.state.list.name.length)return a.setState({list:{name:""}});var t,n=a.props.lists;t=0===n.length?1:parseInt(parseFloat(n[n.length-1].position)+1);var r=Object(g.a)({},a.state.list,{board_id:a.props.board_id,position:t});return a.props.dispatchCreateList(r),a.setState({list:{name:""},showAddListReturn:!1})},a.handleBoardInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState({board:Object(Q.a)({},r,n)})},a.handleListInput=function(e){var t=e.target,n=t.value,r=t.name;return a.setState({list:Object(Q.a)({},r,n)})},a.handleInputClick=function(e){var t=e.target.placeholder;return a.setState({board:{name:t},showNameReturn:!0})},a.onDragEnd=function(e){var t=e.destination,n=e.source,r=e.type;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){if("lists"===r){var o=Object(i.a)(a.props.lists),s=a.props.lists[n.index];t.index>n.index?(o.splice(t.index+1,0,s),o.splice(n.index,1)):(o.splice(n.index,1),o.splice(t.index,0,s));var l=a.updatePosition(o,t.index);return delete l.cards,a.props.dispatchUpdateListStore(l),a.props.dispatchUpdateList(l)}var c;t.droppableId!==n.droppableId&&(c=a.props.cards.filter((function(e){return e.list_id===parseInt(n.droppableId)})).sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)})));var u=a.props.cards.filter((function(e){return e.list_id===parseInt(t.droppableId)})).sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)})),d=Object(i.a)(u);t.droppableId!==n.droppableId?(0===d.length?d.push(c[n.index]):d.splice(t.index,0,c[n.index]),c.splice(n.index,1)):(d.splice(n.index,1),d.splice(t.index,0,u[n.index]));var p=a.updatePosition(d,t.index);t.droppableId!==n.droppableId&&(p.list_id=parseInt(t.droppableId));var m=Object.assign({},{id:p.id,list_id:p.list_id,position:p.position});return a.props.dispatchUpdateCardStore(m),a.props.dispatchUpdateCard(m)}},a.updatePosition=function(e,t){return 0===t?1===e.length?e[0].position="1.00":e[t].position=(parseFloat(e[1].position)/2).toString():t===e.length-1?e[t].position=(parseFloat(e[t-1].position)+1).toString():e[t].position=((parseFloat(e[t-1].position)+parseFloat(e[t+1].position))/2).toString(),e[t]},a.handleKeyPress=function(e){if("Enter"===e.key)return e.target.blur()},a.handleAddListClick=function(){return a.setState({showAddListReturn:!0})},a.toggleProfileMenu=function(e){return e&&(e.preventDefault(),e.stopPropagation()),a.setState({showProfileMenu:!a.state.showProfileMenu})},a.handleBoardNameBlur=function(e){return e.preventDefault(),setTimeout((function(){return a.setState({showNameReturn:!1,board:{name:a.props.name}})}),500)},a.handleCreateListBlur=function(e){return e.preventDefault(),setTimeout((function(){return a.setState({showAddListReturn:!1,list:{name:""}})}),500)},a.state={board:{name:""},list:{name:""},showMenu:!1,showProfileMenu:!1,showNameReturn:!1,showAddListReturn:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.boardImage&&this.props.boardImage.url.startsWith("#")?{backgroundColor:this.props.boardImage.url}:this.props.boardImage?{backgroundImage:"url(".concat(this.props.boardImage.url,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}:{backgroundColor:"white"},r.a.createElement("div",{className:_t.a.Board,style:e},r.a.createElement(le,{username:JSON.parse(sessionStorage.getItem("user")).username,toggleProfileMenu:this.toggleProfileMenu}),this.state.showProfileMenu?r.a.createElement(ye,{toggleThis:this.toggleProfileMenu}):null,r.a.createElement("div",{className:_t.a.boardHeader},r.a.createElement("form",{onSubmit:this.updateBoard,className:_t.a.boardName_form,onBlur:this.handleBoardNameBlur},r.a.createElement("input",{className:_t.a.boardName,type:"text",name:"name",size:this.props.name?this.props.name.length:null,value:this.state.board.name,placeholder:this.props.name,onChange:this.handleBoardInput,onClick:this.handleInputClick,onKeyPress:this.handleKeyPress,autoComplete:"off"}),this.state.showNameReturn?r.a.createElement(ze,{func:this.updateBoard}):null),r.a.createElement(D.b,{className:_t.a.Link,to:"/"},r.a.createElement("button",{className:_t.a.homeButton})),r.a.createElement("button",{onClick:this.toggleMenu,className:_t.a.boardMenuButton},"Board Menu")),this.state.showMenu?r.a.createElement(bt,{toggleMenu:this.toggleMenu}):null,r.a.createElement(Ie.a,{onDragEnd:this.onDragEnd},r.a.createElement(Ie.c,{droppableId:"horizontalDroppable",type:"lists",direction:"horizontal"},(function(e){return r.a.createElement("ul",Object.assign({className:_t.a.Lists},e.droppableProps,{ref:e.innerRef}),t.props.lists?t.props.lists.sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)})).map((function(e,a){return e.is_archived?null:r.a.createElement(Ve,{handleKeyPress:t.handleKeyPress,list:e,key:e.id,index:a,cards:t.props.cards.filter((function(t){return t.list_id===e.id})).sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)}))})})):null,r.a.createElement("form",{onSubmit:t.createList,className:_t.a.addListForm,onBlur:t.handleCreateListBlur},r.a.createElement("input",{className:_t.a.addList,name:"name",value:t.state.list.name,placeholder:"+ Add List",onChange:t.handleListInput,onKeyPress:t.handleKeyPress,onClick:t.handleAddListClick,autoComplete:"off"}),t.state.showAddListReturn?r.a.createElement(ze,{func:t.createList}):null),e.placeholder)}))))}}]),t}(n.Component),vt=gt=Object(b.b)((function(e){return{name:e.name,lists:e.lists,labels:e.labels,board_id:e.id,cards:e.cards,boardImage:e.boardImage,labelColors:e.initLabels,unauthorized:e.unauthorized}}),(function(e){return{dispatchCreateList:function(t){return e(function(e){return function(t,a){return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==x(t,a)){n.next=3;break}return n.next=3,O.a.awrap(fetch("/api/lists/new",S(e)).then((function(e){return e.json()})).then((function(e){return e.cards=[],t({type:"CREATE_LIST",payload:e})})).catch((function(e){console.log(e)})));case 3:case"end":return n.stop()}}))}}(t))},dispatchUpdateBoard:function(t){return e(M(t))},dispatchUpdateCard:function(t){return e(k(t))},dispatchGetBoardData:function(t){return e(w(t))},dispatchUpdateCardStore:function(t){return e(function(e){return function(t){return t({type:"UPDATE_CARD_IN_STORE",payload:e})}}(t))},dispatchUpdateListStore:function(t){return e(function(e){return function(t){return t({type:"UPDATE_LIST_IN_STORE",payload:e})}}(t))},dispatchUpdateList:function(t){return e(L(t))}}}))(gt),Ct=a(85),Et=a.n(Ct),Ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).toggleModal=function(e){return e&&e.preventDefault(),a.props.dispatchToggleModal()},a.state={modal:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.showModal,r.a.createElement("div",{className:Et.a.Modals,onClick:this.toggleModal})}}]),t}(n.Component),Nt=Ot=Object(b.b)((function(e){return{showModal:e.showModal}}),(function(e){return{dispatchToggleModal:function(){return e(N())}}}))(Ot),yt=function(e){return sessionStorage.getItem("user")?r.a.createElement("div",{className:V.a.AppPage},e.showModal?r.a.createElement(Nt,null):null,window.location.pathname.startsWith("/dashboard/")?r.a.createElement(je,null):r.a.createElement(vt,null)):r.a.createElement(A.a,{to:"/login"})},Bt=yt=Object(b.b)((function(e){return{showModal:e.showModal}}),null)(yt),jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){if(sessionStorage.getItem("user")){var e=JSON.parse(sessionStorage.getItem("user")).id;return a.props.dispatchGetUser(e)}},a.componentDidUpdate=function(e){if(e.boards!==a.props.boards||e.collaborations!==a.props.collaborations)return a.setState({boards:Object(i.a)(a.props.boards),collaborations:Object(i.a)(a.props.collaborations)})},a.state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return sessionStorage.getItem("user")&&(e=JSON.parse(sessionStorage.getItem("user"))),r.a.createElement("div",{className:"App"},r.a.createElement(D.a,null,r.a.createElement(A.d,null,r.a.createElement(A.b,{path:["/login","/register"],exact:!0,component:z}),r.a.createElement(A.b,{path:e?"/dashboard/".concat(e.username,"/boards"):"/",exact:!0,component:Bt}),this.state.boards?this.state.boards.map((function(e){return r.a.createElement(A.b,{key:e.id,path:"/b/".concat(e.id,"/"),exact:!1,strict:!0,component:Bt})})):null,this.state.collaborations?this.state.collaborations.map((function(e){return r.a.createElement(A.b,{key:e.id,path:"/b/".concat(e.id,"/").concat(e.name),exact:!0,component:Bt})})):null,r.a.createElement(A.a,{from:"/",to:sessionStorage.getItem("user")?"/dashboard/".concat(JSON.parse(sessionStorage.getItem("user")).username,"/boards"):"/login",exact:!0}),r.a.createElement(A.b,{component:Bt}))))}}]),t}(n.Component),kt=jt=Object(b.b)((function(e){return{username:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).username:void 0,boards:e.boards,collaborations:e.collaborations}}),(function(e){return{dispatchGetUser:function(t){return e(y(t))}}}))(jt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=a(22),Mt=a(86),wt={username:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).username:void 0,initLabels:{"#61be4f":{color:"#61be4f"},"#f2d600":{color:"#f2d600"},"#ff9f1a":{color:"#ff9f1a"},"#eb5946":{color:"#eb5946"},"#c377e0":{color:"#c377e0"},"#0079bf":{color:"#0079bf"},"#00c2e0":{color:"#00c2e0"},"#ff77cb":{color:"#ff77cb"},"#344562":{color:"#344562"}},showModal:!1,isLoggedIn:!!sessionStorage.getItem("user"),unauthorized:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),console.log(t.payload),t.type){case"UPDATE_CARD_FROM_TODO":for(var a=Object(i.a)(e.cardsAssigned),n=0;n<a.length;n++)if(a[n].id===t.payload.id){if(a.splice(n,1,t.payload),!e.id||!e.cards||e.id!==t.payload.board_id)return Object.assign({},e,{cardsASsigned:a});for(var r=Object(i.a)(e.cards),o=0;o<r.length;o++)if(r[o].id===t.payload.id)return r.splice(o,1,t.payload),Object.assign({},e,{cardsAssigned:a,cards:r})}break;case"UNAUTHORIZED_ACTION_ERROR":return alert("Only the owner of this board can do that."),window.location.reload(),e;case"INVITE_COLLABORATORS":return Object.assign({},e,t.payload);case"GET_USERS":return Object.assign({},e,{users:t.payload});case"LOGIN_ERROR":return Object.assign({},e,{loginError:!0});case"DELETE_USER":return sessionStorage.getItem("user")&&sessionStorage.removeItem("user"),localStorage.getItem("user")&&localStorage.removeItem("user"),Object.assign({},e,{isLoggedIn:!1,username:"",showModal:!1});case"UPDATE_USER":sessionStorage.setItem("user",JSON.stringify(Object(g.a)({},t.payload)));var s=Object(g.a)({},t.payload);return s.user_id=t.payload.id,delete s.id,"profile"===e.showModal?Object.assign({},e,Object(g.a)({showModal:!1},s)):Object.assign({},e,Object(g.a)({},s));case"GET_USER":var l=Object(g.a)({},t.payload);return l.user_id=t.payload.id,delete l.id,Object.assign({},e,Object(g.a)({},l));case"TOGGLE_MODAL":return Object.assign({},e,{showModal:t.payload});case"LOGIN_USER":return localStorage.setItem("user",JSON.stringify(t.payload.username)),sessionStorage.setItem("user",JSON.stringify(Object(g.a)({},t.payload))),Object.assign({},e,{isLoggedIn:!0,username:t.payload.username,loginError:""});case"LOGOUT_USER":return sessionStorage.getItem("user")&&sessionStorage.removeItem("user"),localStorage.getItem("user")&&localStorage.removeItem("user"),Object.assign({},e,{isLoggedIn:!1,username:"",showModal:!1});case"REGISTER_USER":return localStorage.setItem("user",t.payload.username),e;case"UPDATE_LIST_IN_STORE":for(var c=Object(i.a)(e.lists),u=0;u<c.length;u++)c[u].id===t.payload.id&&(c[u]=Object.assign({},Object(g.a)({},c[u]),Object(g.a)({},t.payload)));return Object.assign({},e,{lists:c});case"UPDATE_CARD_IN_STORE":for(var d=Object(i.a)(e.cards),p=0;p<d.length;p++)d[p].id===t.payload.id&&(d[p]=Object.assign({},Object(g.a)({},d[p]),Object(g.a)({},t.payload)));return Object.assign({},e,{cards:d});case"UPDATE_CARD":for(var m=Object(i.a)(e.cards),h=0;h<m.length;h++)if(m[h].id===t.payload.id){m.splice(h,1,t.payload);for(var b=Object(i.a)(e.cardsAssigned),f=0;f<b.length;f++)if(b[f].id===t.payload.id)return b.splice(f,1,t.payload),Object.assign({},e,{cardsAssigned:b,cards:m});return Object.assign({},e,{cards:m})}break;case"UPDATE_LABEL":var _=Object(g.a)({},e.labels);return _[t.payload.color]=t.payload,Object.assign({},e,{labels:_});case"UPDATE_LIST":for(var v=Object(i.a)(e.lists),C=0;C<v.length;C++)if(v[C].id===t.payload.id)return v.splice(C,1,t.payload),Object.assign({},e,{lists:v});break;case"UPDATE_BOARD":if(e.boards)for(var E=Object(i.a)(e.boards),O=0;O<E.length;O++)if(E[O].id===t.payload.id)return E.splice(O,1,t.payload),Object.assign({},e,Object(g.a)({boards:E},t.payload));return Object.assign({},e,Object(g.a)({},t.payload));case"CREATE_LABEL":var N=Object(g.a)({},e.labels);return N[t.payload.color]=t.payload,Object.assign({},e,{labels:N});case"CREATE_CARD":var y=Object(i.a)(e.cards);return y.push(t.payload),Object.assign({},e,{cards:y});case"CREATE_LIST":var B=Object(i.a)(e.lists);return B.push(t.payload),Object.assign({},e,{lists:B});case"CREATE_BOARD":var j=Object(i.a)(e.boards);return j.push(t.payload),Object.assign({},e,{boards:j});case"GET_BOARD_DATA":for(var k=Object(g.a)({},e.initLabels),L=t.payload.labels,M=0;M<L.length;M++)k[L[M].color]=L[M];if(t.payload.lists){var w=Object(i.a)(t.payload.lists);t.payload.lists=w.sort((function(e,t){return parseFloat(e.position)-parseFloat(t.position)}))}return t.payload.labels=k,Object.assign({},e,t.payload);case"GET_BOARDS":return Object.assign({},e,{boards:t.payload});default:return e}},It=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Lt.c)(Object(Lt.a)(Mt.a)),Pt=Object(Lt.d)(St,It);s.a.render(r.a.createElement(b.a,{store:Pt},r.a.createElement(kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},14:function(e,t,a){e.exports={CardMenu:"CardMenu_CardMenu__2MHGr",updateCardContainer:"CardMenu_updateCardContainer__1k5_Q",updateCardForm:"CardMenu_updateCardForm__2BF5Q",buttonsContainer:"CardMenu_buttonsContainer__25zPZ",saveButton:"CardMenu_saveButton__3MrRf",labelsContainer:"CardMenu_labelsContainer__2tynj",Label:"CardMenu_Label__3jHkN",labelsButton:"CardMenu_labelsButton__3aDNz",cardMenuHeader:"CardMenu_cardMenuHeader__3HMFy",cardMenuHeaderInputs:"CardMenu_cardMenuHeaderInputs__1fq7T",updateCardName:"CardMenu_updateCardName__UpfcT",exitButton:"CardMenu_exitButton__34arB",listsContainer:"CardMenu_listsContainer__w5AVm",editDetails:"CardMenu_editDetails__3wu-v",dueDate:"CardMenu_dueDate__2x1zC",assigned_created_container:"CardMenu_assigned_created_container__DSukU",assignedTo:"CardMenu_assignedTo__3o1Sk",createdBy:"CardMenu_createdBy__-qSDD"}},17:function(e,t,a){e.exports={thumbnailContainer:"BoardThumbnail_thumbnailContainer__2KyKT",BoardThumbnail:"BoardThumbnail_BoardThumbnail__3d8pU",menuButton:"BoardThumbnail_menuButton__2k7jS",unarchiveButton:"BoardThumbnail_unarchiveButton__1zkCZ",updateBoardContainer:"BoardThumbnail_updateBoardContainer__3DgsU",updateBoard:"BoardThumbnail_updateBoard__GAYtB",colorPickerContainer:"BoardThumbnail_colorPickerContainer__20fAs",colorPickerOptionsContainer:"BoardThumbnail_colorPickerOptionsContainer__7amL9",colorPickerLabel:"BoardThumbnail_colorPickerLabel__3MLtV",colorPickerInput:"BoardThumbnail_colorPickerInput__3Pdqj",colorPickerCustom:"BoardThumbnail_colorPickerCustom__282_W",buttonsContainer:"BoardThumbnail_buttonsContainer__1Ap7P"}},19:function(e,t,a){e.exports={Card:"Card_Card__37Yu0",card_labelsAndMenu:"Card_card_labelsAndMenu__Pu1u9",labelsContainer:"Card_labelsContainer__1zS0v",Label:"Card_Label__3gIJZ",menuButton:"Card_menuButton__3TPxw",cardBody:"Card_cardBody__uWQ27",cardName:"Card_cardName__2dvSM",card_extraInfo:"Card_card_extraInfo__LrDvz",card_extraInfo_userInfo:"Card_card_extraInfo_userInfo__p7F2l",extraInfo_details:"Card_extraInfo_details__2WSK8",details_middle:"Card_details_middle__3J_OJ",details_bottom:"Card_details_bottom__2Yln5"}},21:function(e,t,a){e.exports={AddNewBoard:"AddNewBoard_AddNewBoard__1VoWN",addNewBoardForm:"AddNewBoard_addNewBoardForm__1QVH_",subHeader:"AddNewBoard_subHeader__xXaGF",nameInput:"AddNewBoard_nameInput__2N1BR",buttonsContainer:"AddNewBoard_buttonsContainer__kMrUz",colorPickerContainer:"AddNewBoard_colorPickerContainer__llW8Q",colorPickerOptionsContainer:"AddNewBoard_colorPickerOptionsContainer__u2twX",colorPickerLabel:"AddNewBoard_colorPickerLabel__2kNHq",colorPickerInput:"AddNewBoard_colorPickerInput__1cVAm",colorPickerCustom:"AddNewBoard_colorPickerCustom__bTr4Q"}},25:function(e,t,a){e.exports={loginComponent:"LoginComponent_loginComponent__hwUB8",error:"LoginComponent_error__1oyk3",form_ul:"LoginComponent_form_ul__21qMz",form_li:"LoginComponent_form_li___SRy0",form_input:"LoginComponent_form_input__2hgcs",login_button:"LoginComponent_login_button__1RbaU",optionsContainer:"LoginComponent_optionsContainer__1eCzM",options_span:"LoginComponent_options_span__3hmJS"}},26:function(e,t,a){e.exports={EditProfileMenu_form:"EditProfileMenu_EditProfileMenu_form__OxLZn",form_label:"EditProfileMenu_form_label__3jC2w",form_input:"EditProfileMenu_form_input__1_TPz",form_buttons_container:"EditProfileMenu_form_buttons_container__1zrcJ",delete_account_button:"EditProfileMenu_delete_account_button__OInQJ"}},27:function(e,t,a){e.exports={CollaboratorsMenu:"CollaboratorsMenu_CollaboratorsMenu__14Hyt",collabs_container:"CollaboratorsMenu_collabs_container__9a2WV",noCollabs:"CollaboratorsMenu_noCollabs__3OjCB",collaborator:"CollaboratorsMenu_collaborator__1K8Zi",collaborator_removed:"CollaboratorsMenu_collaborator_removed__1izpL",search_container:"CollaboratorsMenu_search_container__1RpoV",search_input:"CollaboratorsMenu_search_input__2IPc5",search_ul:"CollaboratorsMenu_search_ul__2awwF",search_buttons_li:"CollaboratorsMenu_search_buttons_li__36zTo"}},29:function(e,t,a){e.exports={Board:"Board_Board__3IbYL",boardHeader:"Board_boardHeader__xOx8O",boardName_form:"Board_boardName_form__3U_bB",boardName:"Board_boardName__odiOx",Link:"Board_Link__3IDDg",homeButton:"Board_homeButton__1Doxb",boardMenuButton:"Board_boardMenuButton__3Ynpe",Lists:"Board_Lists__iMgUN",addListForm:"Board_addListForm__2WaID",addList:"Board_addList__Mwrg6"}},30:function(e,t,a){e.exports={BoardsList:"BoardsList_BoardsList__3jw_G",noArchivedBoardsMessage:"BoardsList_noArchivedBoardsMessage__2wBWp",BoardsContainer:"BoardsList_BoardsContainer__R8qnu",container:"BoardsList_container__3M8B8",BoardThumbnail:"BoardsList_BoardThumbnail__2AAZ1",showArchivedButton:"BoardsList_showArchivedButton__p9kr3"}},33:function(e,t,a){e.exports={CardLabels:"CardLabels_CardLabels__3A0k4",cardLabelsHeader:"CardLabels_cardLabelsHeader__JrnPA",exitButton:"CardLabels_exitButton__2KZXS",cardLabelsForm:"CardLabels_cardLabelsForm__Tf6zG",saveButton:"CardLabels_saveButton__2j5uj",checkboxLabel:"CardLabels_checkboxLabel__142Wa",checkboxInput:"CardLabels_checkboxInput__1kdP9",checkboxCustom:"CardLabels_checkboxCustom__2rDw6"}},34:function(e,t,a){e.exports={BoardMenuContainer:"BoardMenu_BoardMenuContainer__3XTbl",BoardMenu:"BoardMenu_BoardMenu__3zqdF",menuHeader:"BoardMenu_menuHeader__1C1op",exitButton:"BoardMenu_exitButton__xRzKa",MenuOption:"BoardMenu_MenuOption__3P_Nw"}},35:function(e,t,a){e.exports={ArchivedItems:"ArchivedItems_ArchivedItems__ReWzw",menuContainer:"ArchivedItems_menuContainer__1VEli",cardsListsToggleButton:"ArchivedItems_cardsListsToggleButton__t-uPM",itemsList:"ArchivedItems_itemsList__E2vAl",archivedContainer:"ArchivedItems_archivedContainer__uphxH",unarchiveButton:"ArchivedItems_unarchiveButton__2excA"}},36:function(e,t,a){e.exports={EditBoardMenu:"EditBoardMenu_EditBoardMenu__3BsS5",colorPickerContainer:"EditBoardMenu_colorPickerContainer__2SJHU",colorPickerOptionsContainer:"EditBoardMenu_colorPickerOptionsContainer__3vGFh",colorPickerLabel:"EditBoardMenu_colorPickerLabel__3Bfid",colorPickerInput:"EditBoardMenu_colorPickerInput__3yCFi",colorPickerCustom:"EditBoardMenu_colorPickerCustom__1rxQC",buttonsContainer:"EditBoardMenu_buttonsContainer__129mk",form_buttons_container:"EditBoardMenu_form_buttons_container__1L5Ui",buttons_archiveBoard:"EditBoardMenu_buttons_archiveBoard__2jcRC"}},39:function(e,t,a){e.exports={ProfileMenu_container:"ProfileMenu_ProfileMenu_container__20PvB",ProfileMenu:"ProfileMenu_ProfileMenu__1kzIU",menuHeader:"ProfileMenu_menuHeader__2G58v",exitButton:"ProfileMenu_exitButton__2omYv",menu_li:"ProfileMenu_menu_li__t6TkQ"}},40:function(e,t,a){e.exports={AssignedCard:"AssignedCard_AssignedCard__1ZyvF",labelsContainer:"AssignedCard_labelsContainer__22fHd",Label:"AssignedCard_Label__e-nHz",cardBody:"AssignedCard_cardBody__HyPP6",content:"AssignedCard_content__3pnYP",inWhere:"AssignedCard_inWhere__3dmyd",cardName:"AssignedCard_cardName__3bEg6"}},48:function(e,t,a){e.exports={LabelsMenu:"LabelsMenu_LabelsMenu__2M6m6",labelForm:"LabelsMenu_labelForm__3ECc8",labelFormTextInput:"LabelsMenu_labelFormTextInput__1543l",submitButton:"LabelsMenu_submitButton__2qI7J"}},49:function(e,t,a){e.exports={SearchResult:"SearchResult_SearchResult__12Gq2",checkboxInput:"SearchResult_checkboxInput__30VO6",checkedLabel:"SearchResult_checkedLabel__Exz9Y"}},59:function(e,t,a){e.exports={container:"AuthorizationModal_container__2mO4J",authBox:"AuthorizationModal_authBox__TdrAa"}},62:function(e,t,a){e.exports={ToDoList:"ToDoList_ToDoList__2r-Wj",ToDoList_header:"ToDoList_ToDoList_header__1ZFJP",noAssignedCards:"ToDoList_noAssignedCards__LulTT"}},76:function(e,t,a){e.exports={AuthPage:"AuthPage_AuthPage__2oFdj"}},79:function(e,t,a){e.exports={AppPage:"AppPage_AppPage__EKmNy"}},80:function(e,t,a){e.exports={ProfileButton:"ProfileButton_ProfileButton__x_bQo"}},84:function(e,t,a){e.exports={ReturnButton:"ReturnButton_ReturnButton__3MzCw"}},85:function(e,t,a){e.exports={Modals:"Modals_Modals__1gab2"}},87:function(e,t,a){e.exports=a(134)},92:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.73ae5e85.chunk.js.map